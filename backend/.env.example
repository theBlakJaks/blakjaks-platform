# ─────────────────────────────────────────────────────────────────────────────
# BlakJaks Platform — Backend Environment Variables
# Copy this file to .env and fill in real values.
# NEVER commit .env to version control.
# ─────────────────────────────────────────────────────────────────────────────

# ── Core ─────────────────────────────────────────────────────────────────────
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/blakjaks
SECRET_KEY=change-me-to-a-random-256-bit-hex-string
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30
RESET_TOKEN_EXPIRE_MINUTES=60
ENVIRONMENT=development
CORS_ORIGINS=["*"]

# ── Redis ─────────────────────────────────────────────────────────────────────
# Local: redis://localhost:6379/0  |  GKE: redis://10.96.113.3:6379/0
REDIS_URL=redis://localhost:6379/0
REDIS_CLUSTER_ENABLED=false
REDIS_SSL_ENABLED=false

# ── Celery ───────────────────────────────────────────────────────────────────
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ── Polygon / Blockchain ──────────────────────────────────────────────────────
# Where to get: infura.io → Create Project → Polygon network → copy endpoints
BLOCKCHAIN_POLYGON_NODE_URL=https://polygon-amoy.infura.io/v3/YOUR_INFURA_PROJECT_KEY
BLOCKCHAIN_POLYGON_NODE_WS_URL=wss://polygon-amoy.infura.io/ws/v3/YOUR_INFURA_PROJECT_KEY
POLYGON_NETWORK=amoy
POLYGON_CHAIN_ID=80002

# Treasury wallet addresses (auto-populated from Secret Manager in GKE)
BLOCKCHAIN_MEMBER_TREASURY_ADDRESS=
BLOCKCHAIN_AFFILIATE_TREASURY_ADDRESS=
BLOCKCHAIN_WHOLESALE_TREASURY_ADDRESS=

# USDT contract addresses
USDT_CONTRACT_ADDRESS_MAINNET=0xc2132D05D31c914a87C6611C10748AEb04B58e8F
USDT_CONTRACT_ADDRESS_AMOY=

# ── Google Cloud KMS (treasury signing) ───────────────────────────────────────
KMS_PROJECT_ID=blakjaks-production
KMS_LOCATION=us-central1
KMS_KEYRING=blakjaks-crypto
KMS_KEY_NAME=treasury-signer
KMS_KEY_VERSION=1
KMS_CONSUMER_KEY=treasury-signer
KMS_AFFILIATE_KEY=affiliate-pool-signer
KMS_WHOLESALE_KEY=wholesale-pool-signer
GCP_PROJECT_ID=blakjaks-production
GCP_KMS_LOCATION=us-central1
GCP_KMS_KEY_RING=blakjaks-crypto
GCP_KMS_KEY_NAME=treasury-signer

# ── Google Cloud Storage ──────────────────────────────────────────────────────
GCS_PROJECT_ID=blakjaks-production
GCS_BUCKET_AVATARS=blakjaks-user-avatars
GCS_BUCKET_ASSETS=blakjaks-static-assets
GCS_BUCKET_QR=blakjaks-qr-codes

# ── Sentry ────────────────────────────────────────────────────────────────────
# Where to get: sentry.io → New Project → DSN
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=
SENTRY_TRACES_SAMPLE_RATE=0.1

# ── Teller.io (bank sync — mTLS) ──────────────────────────────────────────────
# Where to get: teller.io → Application Settings → Download certificate bundle
TELLER_CERT_PATH=/app/certs/teller.pem
TELLER_KEY_PATH=/app/certs/teller.key
TELLER_ENV=sandbox
TELLER_ACCOUNT_IDS=[]

# ── APNs (iOS push — native, NO Firebase) ─────────────────────────────────────
# Where to get: developer.apple.com → Certificates → Keys → Create .p8 key
APNS_KEY_ID=
APNS_TEAM_ID=
APNS_BUNDLE_ID=com.blakjaks.app
APNS_CERT_PATH=/app/certs/apns.p8

# ── FCM (Android push only) ───────────────────────────────────────────────────
# Where to get: console.firebase.google.com → Project Settings → Cloud Messaging
FCM_SERVER_KEY=

# ── OpenAI ────────────────────────────────────────────────────────────────────
# Where to get: platform.openai.com → API Keys
OPENAI_API_KEY=

# ── 7TV / Giphy (chat media) ──────────────────────────────────────────────────
# 7TV: client-side only — no backend secret needed (uses public global emote set)
SEVEN_TV_EMOTE_SET_ID=
# Where to get: developers.giphy.com → Create App → API Key
GIPHY_API_KEY=

# ── Intercom ──────────────────────────────────────────────────────────────────
# Where to get: app.intercom.com → Settings → Installation
INTERCOM_APP_ID=
INTERCOM_API_KEY=
INTERCOM_IDENTITY_VERIFICATION_SECRET=
INTERCOM_IOS_API_KEY=
INTERCOM_ANDROID_API_KEY=

# ── Google Cloud Translation ──────────────────────────────────────────────────
TRANSLATION_GOOGLE_PROJECT_ID=blakjaks-production
TRANSLATION_GOOGLE_CREDENTIALS_PATH=
TRANSLATION_ENABLED=true
TRANSLATION_SUPPORTED_LANGUAGES=["en","es","fr","de","pt","it","ja","ko","zh","ar"]
TRANSLATION_CACHE_TTL=86400

# ── Google Analytics ──────────────────────────────────────────────────────────
GA4_MEASUREMENT_ID=

# ── Tax (Kintsugi) ────────────────────────────────────────────────────────────
# Where to get: kintsugi.tech → API Settings
KINTSUGI_API_KEY=
KINTSUGI_API_URL=https://api.kintsugi.tech/v1

# ── Age Verification (AgeChecker.net) ─────────────────────────────────────────
AGECHECKER_API_KEY=

# ── Email (Brevo) ─────────────────────────────────────────────────────────────
# Where to get: brevo.com → SMTP & API → API Keys
BREVO_API_KEY=

# ── Payment Processor (TBD — pluggable) ───────────────────────────────────────
PAYMENT_PROCESSOR=
PAYMENT_SECRET_KEY=
PAYMENT_PUBLISHABLE_KEY=
PAYMENT_WEBHOOK_SECRET=

# ── Third-party integrations ──────────────────────────────────────────────────
STREAMYARD_API_KEY=
SELERY_API_KEY=
GOOGLE_TRANSLATE_API_KEY=

# ─── Testnet dev signing (non-production only) ───────────────────────────────
# Generate with: python scripts/generate_testnet_wallet.py
# Leave blank in production — KMS is used instead
BLOCKCHAIN_DEV_PRIVATE_KEY=
BLOCKCHAIN_DEV_TREASURY_ADDRESS=

# ─── Polygon network ─────────────────────────────────────────────────────────
POLYGON_NETWORK=amoy
BLOCKCHAIN_POLYGON_NODE_URL=https://polygon-amoy.infura.io/v3/YOUR_INFURA_KEY
BLOCKCHAIN_POLYGON_NODE_WS_URL=wss://polygon-amoy.infura.io/ws/v3/YOUR_INFURA_KEY

# ─── USDC contract addresses (pre-set in config.py — shown here for reference) ─
# USDC_CONTRACT_ADDRESS_AMOY=0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582
# USDC_CONTRACT_ADDRESS_MAINNET=0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359
